{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13498", "change_description": ": Avoid performance regression by constructing lazily the PointTree in NumericComparator.", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "We notice a performance regression in Elasticsearch which we could trace back to the changes in #13199 . This change makes constructing NumericComparators more expensive die to the construction of a PointTree eagerly in the constructor. This is particular noticeable when the PointTree is not used later and  your constructing several of them. This. commit proposes to build the PointTree lazily. The original PR proposed it but it was changed due to simplicity. We are only targeting the 9.x line as main has already diverged and doing it in a different way.", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13501", "change_description": ",", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "Related to #13478 We have seen numerous strange test failures due to intra-merge parallelism. Out of caution and ensuring we provide adequate testing, this commit removes it from 9.11.1. We will add intra-merge parallelism back with more testing in 9.12.", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13478", "change_description": ",", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "It was noticed that the CMS intra-merge behavior was not fully tested. In an effort to do this, a change to override when the intra-merge scheduler is used has been drafted. #13475 This PR has exposed many existing assertions that may all be weird testing failures. But a couple are more worrisome. In particular: Will periodically fail with an NPE on the sort : No response The text was updated successfully, but these errors were encountered:", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13498", "change_description": ",", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "We notice a performance regression in Elasticsearch which we could trace back to the changes in #13199 . This change makes constructing NumericComparators more expensive die to the construction of a PointTree eagerly in the constructor. This is particular noticeable when the PointTree is not used later and  your constructing several of them. This. commit proposes to build the PointTree lazily. The original PR proposed it but it was changed due to simplicity. We are only targeting the 9.x line as main has already diverged and doing it in a different way.", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13340", "change_description": ",", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "This test fails with java.lang.IllegalArgumentException: can't add a parent field to an already existing index without a parent field . If you index any documents in the index, using the parent field or no, then the test passes. No response The text was updated successfully, but these errors were encountered:", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#12431", "change_description": ": Fix IndexOutOfBoundsException thrown in DefaultPassageFormatter\nby unordered matches.", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "Summary of mailing list thread... https://lists.apache.org/list.html?java-user@lucene.apache.org Test patch demonstrating problem in above linked mailing list thread No response The text was updated successfully, but these errors were encountered:", "patch_link": "none", "patch_content": "none"}
{"library_version": "9.11.1", "change_type": "Bug Fixes", "change_id": "GITHUB#13493", "change_description": ": StringValueFacetCounts stops throwing NPE when faceting over an empty match-set.", "change_title": "none", "detail_type": "none", "detail_affect_versions": "none", "detail_fix_versions": "none", "detail_description": "When I use MultiCollectorManager which merges both FacetsCollectorManager and TopScoreDocCollectorManager with a query not matching any docs, I expect to get 0 as a facet count, but get NPE: A reproducer code: The same code is working flawlessly without NPE on Lucene 9.10, but started throwing NPE on 9.11. The text was updated successfully, but these errors were encountered:", "patch_link": "none", "patch_content": "none"}
