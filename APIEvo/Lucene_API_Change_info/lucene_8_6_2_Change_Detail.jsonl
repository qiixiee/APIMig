{"library_version": "8.6.2", "change_type": "Bug Fixes", "change_id": "LUCENE-9478", "change_description": ": Prevent DWPTDeleteQueue from referencing itself and leaking memory. The queue\npassed an implicit this reference to the next queue instance on flush which leaked about 500byte\nof memory on each full flush, commit or getReader call.", "change_title": "DWPTDeleteQueue leaks memory", "detail_type": "Bug", "detail_affect_versions": "9.0,8.7,8.6.1", "detail_fix_versions": "9.0,8.7,8.6.2", "detail_description": "We introduced a broken behavior that leaks memory in DWPTDeleteQueue recently (LUCENE-9304)  The line here tries to be smart and even adds a comment that the current impl is safe but it isn't if you reference a final member in a lambda it references this which holds on to the object. I think we need to do a quick 8.6.2 for this.", "patch_link": "none", "patch_content": "none"}
