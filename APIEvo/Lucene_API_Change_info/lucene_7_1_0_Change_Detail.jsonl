{"library_version": "7.1.0", "change_type": "Changes in Runtime Behavior", "change_id": "SOLR-11477", "change_description": "Resolving of external entities in queryparser/xml/CoreParser is disallowed\nby default. See", "change_title": "CVE-2017-12629: Disable external entities in XML query parser", "detail_type": "Task", "detail_affect_versions": "None", "detail_fix_versions": "5.5.5,6.6.2,7.1,7.2,8.0", "detail_description": "Lucene includes a query parser that is able to create the full-spectrum of Lucene queries, using an XML data structure. Starting from version 5.1 Solr supports \"xml\" query parser in the search query. The problem is that lucene xml parser does not explicitly prohibit doctype declaration and expansion of external entities. It is possible to include special entities in the xml document, that point to external files (via file://) or external urls (via http://): Example usage: When Solr is parsing this request, it makes a HTTP request to http://xxx.s.artsploit.com/xxx and treats its content as DOCTYPE definition. Considering that we can define parser type in the search query, which is very often comes from untrusted user input, e.g. search fields on websites. It allows to an external attacker to make arbitrary HTTP requests to the local SOLR instance and to bypass all firewall restrictions. For example, this vulnerability could be user to send malicious data to the '/upload' handler: This vulnerability can also be exploited as Blind XXE using ftp wrapper in order to read arbitrary local files from the solrserver.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12892047/SOLR-11477.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7970", "change_description": ": Add a shape to Geo3D that consists of multiple planes that\napproximate a true circle, rather than an ellipse, for non-spherical planet models.", "change_title": "Add a Geo3d shape that models an exact circle, even when the planet model is not a sphere", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi Karl wright, How circles are currently build do not behave very well when the planet model is not an sphere. when you are close to the border in WGS84 you might get false positves or false negatives when checking if a point is WITHIN. I think the reason is how the points to generate the circle plane are generated which assumes a sphere. My proposal is the following: Add a new method to PlanetModel: public GeoPoint pointOnBearing(GeoPoint from, double dist, double bearing); Which uses and algorithm that takes into account that the planet might not be spherical. For example Vincenty's formulae (https://en.wikipedia.org/wiki/Vincenty%27s_formulae). Use this method to generate the points for the circle plane. My experiments shows that this approach removes false negatives in WGS84 meanwhile it works nicely in the Sphere. Does it make sense?", "patch_link": "https://issues.apache.org/jira/secure/attachment/12889225/LUCENE-7970-generator.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7955", "change_description": ": Add support for the concept of \"nearest distance\" to Geo3D's\nGeoPath abstraction, which is the distance along the path to the point that is\nclosest to the provided point.", "change_title": "New GeoShape: GeoDegeneratePath", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi daddywri, I propose to add new type of shape for GeoPaths that have a cutoffangle < MINIMUM_RESOLUTION. We can define it as a shape consisting of points exactly on the path. It would be a much lighter version of GeoStandardPath and created only when the cutoff angle is between 0 and MINIMUM_RESOLUTION. Thanks! Ignacio", "patch_link": "https://issues.apache.org/jira/secure/attachment/12886296/LUCENE-7955-test.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7906", "change_description": ": Add spatial relationships between all currently-defined Geo shapes.", "change_title": "Spatial relationship between Geoshapes", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "None", "detail_description": "Hi, Working with geosahpes and trying to resolve spatial relationships between them I came accross a big limitation when trying to solve the relationship between two geopolygons. This object does not expose the internal structure. In particular at some point, it is necessary to check if one polygon intersects the edges of the other polygon which currently is not possible as edges are not exposed. To be able to perform such operation it can be several options. The ones I can think of are: 1) Expose the edges of the polygon ( and probably the notable points for the edges) adding getters in the GeoPolygon interface. Easy to implement and leave users the responsability of coding the spatial relationship. 2) Extends GeoPolygon interface to extends geoarea and leave the object make the spatial relationship. 3) Extends GeoShape  interface so all shapes can infer the spatial relationship with other GeoShapes. I might be bias as my interest is in 2d Shapes in the unit sphere and there might be some cases which what I propose cannot be implemented or are againts the aim of the library. What do you think? Cheers, Ignacio", "patch_link": "https://issues.apache.org/jira/secure/attachment/12883690/test-degenerate_point.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7955", "change_description": ": Add support for zero-width paths.", "change_title": "New GeoShape: GeoDegeneratePath", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi daddywri, I propose to add new type of shape for GeoPaths that have a cutoffangle < MINIMUM_RESOLUTION. We can define it as a shape consisting of points exactly on the path. It would be a much lighter version of GeoStandardPath and created only when the cutoff angle is between 0 and MINIMUM_RESOLUTION. Thanks! Ignacio", "patch_link": "https://issues.apache.org/jira/secure/attachment/12886296/LUCENE-7955-test.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7936", "change_description": ": Add serialization and deserialization support to Geo3D.", "change_title": "Extend Geoshape interfaces so objects can be copied/serialized", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi david.wright@bksv.com, I would like to propose to extends the GeoShape interfaces to be able to copy/serialized the objects. The current status and  propose change is as following: GeoPoint: It can be serialized by using x, y, z GeoCircle:  It can be serialized by using getCenter() and getRadius() and getPlanetModel() GeoCompositeShape: It can be serialized by accesing shapes using size() and GetShape(int index) GeoPath: add methods to the interface getPoints() and getCutoffAngle() GeoPolygon: This is the most complicated one as we have different types:    1.- GeoCompositePolygon is just a composite    2.- GeoConcavePolygon and GeoConvexPolygon: Create a new interface for those polygons which exposes the points, holes, internaledges and concavity/convexity    3.- GeoComplexPolygons: Do nothing, they are too complex to be serialize?? I am intersested in accesing the discreatization of the polygons into convex and concave ones for other reasons as well. I think this should be expose as they end result can be used for other use cases. Cheers, I.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12884473/LUCENE-7936-code.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7942", "change_description": ": Distance computations now have the ability to accurately aggregate\ndistances, rather than just doing sums.", "change_title": "For Geo3d paths, aggregating distance values using \"+\" is not adequate for squared distances", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "The GeoStandardPath object aggregates distances segment by segment using simple addition.  For some kinds of Distance computations, though, addition is not an adequate way to do this.  The xxxSquaredDistance computations, for example, do not produce true squared distances but rather a distance metric that is a combination of both squared and linear. I propose adding support in Distance for aggregation, which would allow distance calculators to compute an accurate distance (at some computational cost) instead.", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7934", "change_description": ": Add a planet model interface.", "change_title": "PlanetObject Interface", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi daddywri, I propose to add a new interface call PlanetObject which all shapes should implement. It is actually extracted from class BasePlanetObject. The motivation is that currently the method getPlanetModel() is not visible and therefore there is no possibility to know to which PlanetModel a shape belongs to. The side effect for this change is that the constructors for composite shapes change as they need to be created with a PlanetModel. I think this is correct as then we can check the planet model when adding a shape and make sure all objects in a composite belongs to the same Planet model. In addition, we check that two shape belongs to the shape Planet model when calling getRelationship(GeoShape geoShape).", "patch_link": "https://issues.apache.org/jira/secure/attachment/12882770/LUCENE-7934.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7918", "change_description": ": Revamp the API for composites so that it's generic and can be used\nfor many kinds of shapes.", "change_title": "Give access to members of a composite shape", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "6.6,7.1,8.0", "detail_description": "Hi daddywri, I hope this is my last point in my wish list. In order to serialize objects I need to access the members of a composite geoshape. This is currently not possible so I was wondering if it is possible to add to more methods to the class GeoCompositeMembershipShape: public int size() public GeoMembershipShape getShape(int index) Thanks, Ignacio", "patch_link": "https://issues.apache.org/jira/secure/attachment/12880617/LUCENE-7918.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7621", "change_description": ": Add CoveringQuery, a query whose required number of matching\nclauses can be defined per document.", "change_title": "Per-document minShouldMatch", "detail_type": "New Feature", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "I have seen similar requirements a couple times but could not find any related issue so I am opening one now. The idea would be to allow passing a LongValuesSource rather than an integer as the minShouldMatch parameter of BooleanQuery so that the number of required clauses can depend on the document that is being matched. In terms of implementation, it looks like it would be straightforward as we would just have to update the value of minShouldMatch in MinShouldMatchSumScorer.setDocAndFreq and things would still be efficient, ie. we would still use advance on the costly clauses. This kind of feature would allow to run queries that must match eg. 80% of the terms that a document contains (by indexing the number of terms in a separate field). It would also make it possible for Luwak or ES' percolator to index boolean queries that have a value of minShouldMatch greater than 1 more efficiently. I do not have any plans to work on it soon but I am curious how much interest this feature would drive.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12882603/LUCENE-7621.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7927", "change_description": ": Add LongValueFacetCounts, to compute facet counts for individual\nnumeric values", "change_title": "Add facets impl to count unique numeric values", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "The facets module has multiple facet methods for counting flat and hierarchical fields, and also a method for counting numeric ranges.  I'd like to also add a method that counts unique numeric (long) values, designed to be used for fields that have only a few, typically low valued, numbers across the index e.g. a \"review\" rating from 1 to 5.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12882889/LUCENE-7927.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7940", "change_description": ": Add BengaliAnalyzer.", "change_title": "Bengali Analyzer for Lucene", "detail_type": "New Feature", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "Dear All, I have noticed that, an issue(https://issues.apache.org/jira/browse/LUCENE-2725) was created to add Bengali Analyzer into LUCENE but it was nearly 7(seven) years ago. I didn't see any update in that issue on JIRA. In few days ago, I am in need of analyzing my Bangla documents(I have used Elasticsearch). I have contacted with a member of elastic.co. He suggested me to do a contribution with my research codes to LUCENE. I have started reviewing the codes of \"modules/analysis\". I have noticed that, Hindi analyzer is added already. By following HindiAnalyzer and HindiStemmer codes, I have developed BengaliAnalyzer for LUCENE. I have followed two research papers and implemented features which are needed. Please give me instructions, what should I do next. Thanks", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7392", "change_description": ": Add point based LatLonBoundingBox as new RangeField Type.", "change_title": "Add point based GeoBoundingBoxField as a new RangeField type", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "This issue will add a new point based GeoBoundingBoxField type for indexing and querying 2D or 3D Geo bounding boxes. The intent is to construct this as a RangeField type and limit the first two dimensions to the lat/lon geospatial bounds (at 4 bytes each like LatLonPoint, while allowing an optional 8 byte (double) third dimension to serve as an altitude component for indexing 3D geospatial bounding boxes.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12883807/LUCENE-7392.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7951", "change_description": ": Spatial-extras has much better Geo3d support by implementing Spatial4j\nabstractions: SpatialContextFactory, ShapeFactory, BinaryCodec, DistanceCalculator.", "change_title": "New wrapper classes for Geo3d", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1", "detail_description": "Hi, After the latest developments in the Geo3d library, in particular: https://issues.apache.org/jira/browse/LUCENE-7906 : Spatial relationships between GeoShapes https://issues.apache.org/jira/browse/LUCENE-7936: Serialization of GeoShapes. I propose a new set of wrapper classes which can be for example linked to Solr as they implement their own SpatialContextFactory. It provides the capability of indexing shapes with   spherical geometry. Thanks!", "patch_link": "https://issues.apache.org/jira/secure/attachment/12888136/LUCENE-7951.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7973", "change_description": ": Update dictionary version for Ukrainian analyzer to 3.9.0", "change_title": "Update dictionary version for Ukrainian analyzer to 3.9.0", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1", "detail_description": "Update morfologik dictionary version to 3.9.0 for Ukrainian analyzer. There's 60K of new lemmas there along with some other improvements and fixes, particularly Ukrainian town names have been synchronized with official standard.", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7974", "change_description": ": Add FloatPointNearestNeighbor, an N-dimensional FloatPoint\nK-nearest-neighbor search implementation.", "change_title": "Add N-dimensional FloatPoint K-nearest-neighbor implementation", "detail_type": "New Feature", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "From LUCENE-7069: KD trees (used by Lucene's new dimensional points) excel at finding \"nearest neighbors\" to a given query point ... I think we should add this to Lucene's sandbox [...] It could also be generalized to more than 2 dimensions, but for now I'm making the class package private in sandbox for just the geo2d (lat/lon) use case. This issue is to generalize LatLonPoint.nearest() to more than 2 dimensions.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12888333/LUCENE-7974.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7975", "change_description": ": Change the default taxonomy facets cache to a faster\nbyte[] (UTF-8) based cache.", "change_title": "Replace facets taxonomy writer \"cache\" with BytesRefHash based implementation", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "When the facets module was first created we didn't have BytesRefHash and so the default cache (Cl2oTaxonomyWriterCache was quite a bit more complex than needed. I changed this to use a BytesRefHash, which stores labels as UTF8 (reduces memory for ascii-only usage), and is also faster (~12% overall speedup on indexing time in my private tests).", "patch_link": "https://issues.apache.org/jira/secure/attachment/12888918/LUCENE-7975.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7972", "change_description": ": DirectoryTaxonomyReader, in Lucene's facet module, now\nimplements Accountable, so you can more easily track how much heap\nit's using.", "change_title": "DirectoryTaxonomyReader should implement Accountable", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "This class is a concrete instance of TaxonomyReader that uses a Lucene index to map facet labels to ordinals. It uses a fair amount of heap, e.g. to hold parent/sibling/child int arrays, to cache recent lookups, and in the underlying IndexReader.  I think we should have it implement Accountable so people can track its heap usage.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12887904/LUCENE-7972.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "New Features", "change_id": "LUCENE-7982", "change_description": ": A new NormsFieldExistsQuery matches documents that have\nnorms in a specified field", "change_title": "NormsFieldExistsQuery to match documents where field exists based on field norms", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "This patch adds a new NormsFieldExistsQuery which is similar to DocValuesFieldExistsQuery but instead of determining whether a document has a value for a field based on doc values it does this based on the field norms so the same kind of exists query functionality can be performed on TextFields which have no doc values.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12889963/LUCENE-7982.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7905", "change_description": ": Optimize how OrdinalMap (used by\nSortedSetDocValuesFacetCounts and others) builds its map", "change_title": "Optimizations for OrdinalMap", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1", "detail_description": "OrdinalMap is a useful class to quickly map per-segment ordinals to global space, but it's fairly costly to build, which must typically be done on every NRT refresh. I'm using it quite heavily in two different places, one for SortedSetDocValuesFacetCounts, and another custom usage, and I found some small optimizations to improve its construction time. I switched it to use a simple priority queue to merge the terms instead of the more general MultiTermsEnum, which does extra work since it must also provide postings, implement seekExact, etc. I also pulled OrdinalMap out into its own oal.index class. When testing construction time for my case the patch is ~16% faster (159.9s -> 134.2s) in one case with 91.4 M terms and ~9% faster (115.6s -> 105.7s) in another case with 26.6 M terms.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12877044/LUCENE-7905.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7655", "change_description": ": Speed up geo-distance queries in case of dense single-valued\nfields when most documents match.", "change_title": "Speed up geo-distance queries that match most documents", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "I think the same optimization that was applied in LUCENE-7641 would also work with geo-distance queries?", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7897", "change_description": ": IndexOrDocValuesQuery now requires the range cost to be more\nthan 8x greater than the cost of the lead iterator in order to use doc values.", "change_title": "RangeQuery optimization in IndexOrDocValuesQuery", "detail_type": "Improvement", "detail_affect_versions": "trunk,7.0", "detail_fix_versions": "7.1,8.0", "detail_description": "For range queries, Lucene uses either Points or Docvalues based on cost estimation (https://lucene.apache.org/core/6_5_0/core/org/apache/lucene/search/IndexOrDocValuesQuery.html). Scorer is chosen based on the minCost here: https://github.com/apache/lucene-solr/blob/master/lucene/core/src/java/org/apache/lucene/search/Boolean2ScorerSupplier.java#L16 However, the cost calculation for TermQuery and IndexOrDocvalueQuery seems to have same weightage. Essentially, cost depends upon the docfreq in TermDict, number of points visited and number of docvalues. In a situation where docfreq is not too restrictive, this is lot of lookups for docvalues and using points would have been better. Following query with 1M matches, takes 60ms with docvalues, but only 27ms with points. If I change the query to \"message:*\", which matches all docs, it choses the points(since cost is same), but with message:xyz it choses docvalues eventhough doc frequency is 1million which results in many docvalue fetches. Would it make sense to change the cost of docvalues query to be higher or use points if the docfreq is too high for the term query(find an optimum threshold where points cost < docvalue cost)?", "patch_link": "https://issues.apache.org/jira/secure/attachment/12879830/LUCENE-7897.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7925", "change_description": ": Collapse duplicate SHOULD or MUST clauses by summing up their\nboosts.", "change_title": "Deduplicate SHOULD and MUST clauses in BooleanQuery", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "Now that coord factors are gone, we can always deduplicate MUST clauses and SHOULD clauses (when minimumNumberShouldMatch is 1) by summing up their boosts.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12881174/LUCENE-7925.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7939", "change_description": ": MinShouldMatchSumScorer now leverages two-phase iteration in\norder to be faster when used in conjunctions.", "change_title": "Speed up MinShouldMatchSumScorer in conjunctions", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "MinShouldMatchSumScorer has good iteration capabilities, but if it is not used as a lead for the iteration then the advance() call might make a lot of efforts in order to find the next match while we should instead let the lead iterator of the conjunction skip over non-matching documents. In this issue I'd like to explore changing MinShouldMatchSumScorer by giving it a two-phase iterator and making advance() return a candidate for the next match that is less good but much cheaper to compute.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12883354/LUCENE-7939.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Optimizations", "change_id": "LUCENE-7827", "change_description": ": AnalyzingInfixSuggester doesn't create \"textgrams\"\nwhen minPrefixChar=0", "change_title": "disable \"textgrams\" when minPrefixChars=0 AnalyzingInfixSuggester", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "The current code allows to set minPrefixChars=0, but it creates an unnecessary textgrams field, and might bring significant footprint.  Bypassing it keeps existing tests green.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12883363/LUCENE-7827.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7967", "change_description": ": The GeoDegeneratePoint isWithin() method needed allowance for\n numerical precision.", "change_title": "GeoDegeneratePoint in Pole", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Hi daddywri, This a small thing that shows up during the effort of integrating the library with Spatial4J. if we have a degenerated point in the pole and you create a point in the pole, it can happen that the new point is not within the degenerated point. I attach a test case. Thanks, I.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12886606/LUCENE-7967.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7965", "change_description": ": GeoBBoxFactory was constructing the wrong shape at the poles\nif the longitude span was greater than 180 degrees.", "change_title": "Geo3d test failure", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "6.7,7.1,8.0", "detail_description": "Build: https://jenkins.thetaphi.de/job/Lucene-Solr-master-Linux/20435/ Java: 64bit/jdk-9-ea+181 -XX:+UseCompressedOops -XX:+UseConcMarkSweepGC --illegal-access=deny 1 tests failed. FAILED:  org.apache.lucene.spatial3d.TestGeo3DPoint.testGeo3DRelations Error Message: invalid bounds for shape=GeoWideDegenerateHorizontalLine: at __randomizedtesting.SeedInfo.seed([941CF510B97966F3:246388843634C86F]:0)         at org.junit.Assert.fail(Assert.java:93)         at org.apache.lucene.spatial3d.TestGeo3DPoint.testGeo3DRelations(TestGeo3DPoint.java:259)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)         at java.base/java.lang.reflect.Method.invoke(Method.java:564)         at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1737)         at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:934)         at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:970)         at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:984)         at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)         at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)         at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)         at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)         at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:943)         at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:829)         at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:879)         at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:890)         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)         at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)         at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)         at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)         at java.base/java.lang.Thread.run(Thread.java:844) Build Log: [...truncated 1713 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/core/test/temp/junit4-J0-20170908_133117_42111226772261885856595.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 5 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/core/test/temp/junit4-J2-20170908_133117_4225429670550808952083.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/core/test/temp/junit4-J1-20170908_133117_42215628692652212572775.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 290 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/test-framework/test/temp/junit4-J1-20170908_133705_88314341587339133594453.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 9 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/test-framework/test/temp/junit4-J2-20170908_133705_88316108114701716164270.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/test-framework/test/temp/junit4-J0-20170908_133705_88314443215366565302544.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 1054 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/common/test/temp/junit4-J1-20170908_133815_20611844463408661424070.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/common/test/temp/junit4-J0-20170908_133815_20515748254911653771360.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/common/test/temp/junit4-J2-20170908_133815_20616709767657671867745.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 225 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/icu/test/temp/junit4-J2-20170908_134014_38912603331681683246050.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 6 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/icu/test/temp/junit4-J0-20170908_134014_38911413408811935743363.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/icu/test/temp/junit4-J1-20170908_134014_3894649749464145011601.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 240 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/kuromoji/test/temp/junit4-J0-20170908_134024_3431835434374313572303.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/kuromoji/test/temp/junit4-J2-20170908_134024_3432792861633733929131.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 12 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/kuromoji/test/temp/junit4-J1-20170908_134024_34416755340305962088205.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 154 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/morfologik/test/temp/junit4-J1-20170908_134046_96018171427467921829988.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/morfologik/test/temp/junit4-J2-20170908_134046_9609226258018480901267.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/morfologik/test/temp/junit4-J0-20170908_134046_9606816615712392945517.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 169 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/phonetic/test/temp/junit4-J2-20170908_134050_5823254244048550826373.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/phonetic/test/temp/junit4-J0-20170908_134050_58217186595939308352999.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/phonetic/test/temp/junit4-J1-20170908_134050_58228897033713447550.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 153 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/smartcn/test/temp/junit4-J1-20170908_134100_26815119761237868639476.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/smartcn/test/temp/junit4-J0-20170908_134100_26812566203849384369045.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 157 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/stempel/test/temp/junit4-J2-20170908_134107_18414816985433484603167.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/stempel/test/temp/junit4-J1-20170908_134107_1845277380504641975644.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/stempel/test/temp/junit4-J0-20170908_134107_1845064401765301528848.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 169 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/analysis/uima/test/temp/junit4-J0-20170908_134109_5064943109552027365496.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 148 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/backward-codecs/test/temp/junit4-J1-20170908_134115_4096095172881395106545.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 5 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/backward-codecs/test/temp/junit4-J2-20170908_134115_4094827150580230658523.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 25 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/backward-codecs/test/temp/junit4-J0-20170908_134115_4099132544252908198375.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 1234 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/benchmark/test/temp/junit4-J2-20170908_134125_4255888052336384103190.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/benchmark/test/temp/junit4-J1-20170908_134125_425290547911573691005.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/benchmark/test/temp/junit4-J0-20170908_134125_42510300272532967955151.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 233 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/classification/test/temp/junit4-J2-20170908_134132_8872939422701453292248.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/classification/test/temp/junit4-J1-20170908_134132_8877845345425608517822.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/classification/test/temp/junit4-J0-20170908_134132_88710928646455452088781.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 243 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/codecs/test/temp/junit4-J1-20170908_134141_41111220824753161271760.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 8 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/codecs/test/temp/junit4-J2-20170908_134141_4113653862546333184104.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 15 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/codecs/test/temp/junit4-J0-20170908_134141_4116299456276306575623.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 238 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/demo/test/temp/junit4-J1-20170908_134357_8202612338254808540784.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/demo/test/temp/junit4-J2-20170908_134357_8201185004211497399761.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/demo/test/temp/junit4-J0-20170908_134357_8202041932012810009928.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 173 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/expressions/test/temp/junit4-J0-20170908_134400_47511141966609611439764.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/expressions/test/temp/junit4-J2-20170908_134400_47511255859541744929436.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/expressions/test/temp/junit4-J1-20170908_134400_475689961482625426820.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 215 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/facet/test/temp/junit4-J0-20170908_134405_9179671203262301053072.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/facet/test/temp/junit4-J2-20170908_134405_9176971433192380664756.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 17 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/facet/test/temp/junit4-J1-20170908_134405_91714438594036921807072.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 179 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/grouping/test/temp/junit4-J2-20170908_134428_9698212465502243774042.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/grouping/test/temp/junit4-J1-20170908_134428_9699407270591028904767.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/grouping/test/temp/junit4-J0-20170908_134428_96810333714205694740039.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 240 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/highlighter/test/temp/junit4-J1-20170908_134437_163355437785510171174.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/highlighter/test/temp/junit4-J2-20170908_134437_1635569487254184080746.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 9 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/highlighter/test/temp/junit4-J0-20170908_134437_1637929130046007546304.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 160 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/join/test/temp/junit4-J2-20170908_134456_73111417424422669112537.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 6 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/join/test/temp/junit4-J0-20170908_134456_73116547861656844550705.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/join/test/temp/junit4-J1-20170908_134456_7312394304407657696757.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 149 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/memory/test/temp/junit4-J0-20170908_134515_11317565199892552653872.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/memory/test/temp/junit4-J1-20170908_134515_11310994518430515617046.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 178 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/misc/test/temp/junit4-J0-20170908_134523_5203499811265308875917.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 5 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/misc/test/temp/junit4-J1-20170908_134523_5203767651280567653140.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/misc/test/temp/junit4-J2-20170908_134523_52012012541775472169400.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 315 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queries/test/temp/junit4-J0-20170908_134537_07511717388873656887299.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queries/test/temp/junit4-J1-20170908_134537_07511330094818273460750.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queries/test/temp/junit4-J2-20170908_134537_07513062997508047707294.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 224 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queryparser/test/temp/junit4-J1-20170908_134543_5592313195264339314942.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 6 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queryparser/test/temp/junit4-J0-20170908_134543_5597064405622630557756.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/queryparser/test/temp/junit4-J2-20170908_134543_5595777634920920573736.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 207 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/replicator/test/temp/junit4-J1-20170908_134550_2127729707457680262650.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/replicator/test/temp/junit4-J0-20170908_134550_2126231989872881019912.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/replicator/test/temp/junit4-J2-20170908_134550_21210855637783764184935.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 208 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/sandbox/test/temp/junit4-J2-20170908_134602_6243283772548861909822.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/sandbox/test/temp/junit4-J0-20170908_134602_6236695338463675094410.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 7 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/sandbox/test/temp/junit4-J1-20170908_134602_62310920395016297496322.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 218 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial-extras/test/temp/junit4-J1-20170908_134642_04310592771911431915035.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial-extras/test/temp/junit4-J0-20170908_134642_04313328547865500401082.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial-extras/test/temp/junit4-J2-20170908_134642_043926402828409283813.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 148 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial/test/temp/junit4-J0-20170908_134653_05714969098026118535250.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 168 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial3d/test/temp/junit4-J2-20170908_134654_92715236502380651142539.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 9 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial3d/test/temp/junit4-J0-20170908_134654_9276339191063037246773.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] Suite: org.apache.lucene.spatial3d.TestGeo3DPoint [junit4]   1>     doc=262 is contained by shape but is outside the returned XYZBounds [junit4]   1>       unquantized=[lat=1.570794955439755, lon=0.9943192335275358([X=7.458170428192392E-7, Y=1.1471550663327813E-6, Z=0.9977622920211732])] [junit4]   1>       quantized=[X=7.456587903797995E-7, Y=1.1470418591619236E-6, Z=0.9977622921205215] [junit4]   1>   shape=GeoWideDegenerateHorizontalLine: [junit4]    >        at __randomizedtesting.SeedInfo.seed([941CF510B97966F3:246388843634C86F]:0) [junit4]    >        at org.apache.lucene.spatial3d.TestGeo3DPoint.testGeo3DRelations(TestGeo3DPoint.java:259) [junit4]    >        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [junit4]    >        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [junit4]    >        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [junit4]    >        at java.base/java.lang.reflect.Method.invoke(Method.java:564) [junit4]    >        at java.base/java.lang.Thread.run(Thread.java:844) [junit4] IGNOR/A 0.00s J1 | TestGeo3DPoint.testRandomBig [junit4]    > Assumption #1: 'nightly' test group is disabled (@Nightly()) [junit4]   2> NOTE: test params are: codec=FastDecompressionCompressingStoredFields(storedFieldsFormat=CompressingStoredFieldsFormat(compressionMode=FAST_DECOMPRESSION, chunkSize=2631, maxDocsPerChunk=7, blockSize=5), termVectorsFormat=CompressingTermVectorsFormat(compressionMode=FAST_DECOMPRESSION, chunkSize=2631, blockSize=5)), sim=RandomSimilarity(queryNorm=true): {}, locale=bo-CN, timezone=GMT0 [junit4]   2> NOTE: Linux 4.10.0-33-generic amd64/Oracle Corporation 9 (64-bit)/cpus=8,threads=1,free=486134080,total=518979584 [junit4]   2> NOTE: All tests run in this JVM: [GeoCircleTest, TestGeo3DPoint] [junit4] Completed [15/15 (1!)] on J1 in 48.24s, 14 tests, 1 failure, 1 skipped <<< FAILURES! [...truncated 1 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/spatial3d/test/temp/junit4-J1-20170908_134654_9276421675871927510759.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 255 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/suggest/test/temp/junit4-J0-20170908_134745_53815194904253577854552.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/suggest/test/temp/junit4-J2-20170908_134745_5383115187385198694052.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/lucene/build/suggest/test/temp/junit4-J1-20170908_134745_5389847593386524808224.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3943 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-core/test/temp/junit4-J2-20170908_134831_0211063604011395035491.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-core/test/temp/junit4-J1-20170908_134831_0215992302491934589645.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 6 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-core/test/temp/junit4-J0-20170908_134831_02115975097821138888212.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 874 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-solrj/test/temp/junit4-J1-20170908_143631_41316674766178935566135.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 27 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-solrj/test/temp/junit4-J0-20170908_143631_41310151707638326128078.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/solr-solrj/test/temp/junit4-J2-20170908_143631_41314071118438284362627.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 1354 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analysis-extras/test/temp/junit4-J2-20170908_143855_3467248335218223279936.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analysis-extras/test/temp/junit4-J1-20170908_143855_34616927282547832406200.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analysis-extras/test/temp/junit4-J0-20170908_143855_3467350092698314544404.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 590 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analytics/test/temp/junit4-J2-20170908_143903_24712520417287295362622.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 6 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analytics/test/temp/junit4-J0-20170908_143903_2472342673194118542267.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-analytics/test/temp/junit4-J1-20170908_143903_2478839510839819626533.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 545 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-clustering/test/temp/junit4-J2-20170908_143943_3668072258151721328394.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-clustering/test/temp/junit4-J1-20170908_143943_36611170258131375168888.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-clustering/test/temp/junit4-J0-20170908_143943_3665582343781578280135.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 1239 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-dataimporthandler-extras/test/temp/junit4-J1-20170908_143959_09216763044003836717161.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-dataimporthandler-extras/test/temp/junit4-J0-20170908_143959_0924523798600179582522.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 642 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-dataimporthandler/test/temp/junit4-J2-20170908_144004_8289877790978032769569.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-dataimporthandler/test/temp/junit4-J1-20170908_144004_8285272462121408957953.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-dataimporthandler/test/temp/junit4-J0-20170908_144004_82816054517118867626637.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 549 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-cell/test/temp/junit4-J0-20170908_144027_6042937445190484829138.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-cell/test/temp/junit4-J2-20170908_144027_6045254953313229769407.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-cell/test/temp/junit4-J1-20170908_144027_60412467713613109300254.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 555 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-langid/test/temp/junit4-J1-20170908_144036_92216352769560034520179.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-langid/test/temp/junit4-J0-20170908_144036_92212016175554131787439.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 638 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-ltr/test/temp/junit4-J1-20170908_144042_50716026322461371692898.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J2: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-ltr/test/temp/junit4-J2-20170908_144042_50710339342593055637898.syserr [junit4] >>> JVM J2 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J2: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-ltr/test/temp/junit4-J0-20170908_144042_5075350463104058849264.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 588 lines...] [junit4] JVM J1: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-uima/test/temp/junit4-J1-20170908_144110_21712232532342735296410.syserr [junit4] >>> JVM J1 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J1: EOF ---- [...truncated 3 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-uima/test/temp/junit4-J0-20170908_144110_2179051518781099245824.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 540 lines...] [junit4] JVM J0: stderr was not empty, see: /home/jenkins/workspace/Lucene-Solr-master-Linux/solr/build/contrib/solr-velocity/test/temp/junit4-J0-20170908_144119_07616202701001310557768.syserr [junit4] >>> JVM J0 emitted unexpected output (verbatim) ---- [junit4] Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release. [junit4] <<< JVM J0: EOF ---- [...truncated 30893 lines...]", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7916", "change_description": ": Prevent ArrayIndexOutOfBoundsException if ICUTokenizer is used\nwith a different ICU JAR version than it is compiled against. Note, this is\nnot recommended, lucene-analyzers-icu contains binary data structures\nspecific to ICU/Unicode versions it is built against.", "change_title": "CompositeBreakIterator is brittle under ICU4J upgrade.", "detail_type": "Bug", "detail_affect_versions": "6.6", "detail_fix_versions": "7.1,8.0", "detail_description": "We use lucene-analyzers-icu version 6.6.0 in our project. Lucene 6.6.0 is built against ICU4J version 56.1, but our use case requires us to use the latest version of ICU4J, 59.1. The problem that we have encountered is that CompositeBreakIterator.getBreakIterator(int scriptCode) throws an ArrayIndexOutOfBoundsException for script codes higher than 167. In ICU4J 56.1 the highest possible script code is 166, but in ICU4j 59.1 it is 174. Internally, CompositeBreakIterator is creating an array of size UScript.CODE_LIMIT, but the value of CODE_LIMIT from ICU4J 56.1 is being baked into the bytecode by the compiler. So even after overriding the version of the ICU4J dependency to 59.1 in our project, this array will still be size 167, which is too small. Output of javap run on CompositeBreakIterator.class from lucene-analyzers-icu-6.6.0.jar In our case, the ArrayIndexOutOfBoundsException was triggered when we encountered a stray character of the Bhaiksuki script (script code 168) in a chunk of text that we processed. CompositeBreakIterator can be made more resilient by changing the type of wordBreakers from an array to a Map and no longer relying on the value of UScript.CODE_LIMIT.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12880132/LUCENE-7916.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7891", "change_description": ": Lucene's taxonomy facets now uses a non-buggy LRU cache\nby default.", "change_title": "Default LRUType of LruTaxonomyWriterCache should be guaranteed to be correct", "detail_type": "Improvement", "detail_affect_versions": "6.4,6.4.1,6.4.2,6.5,6.5.1,6.6", "detail_fix_versions": "7.1,8.0", "detail_description": "LruTaxonomyWriterCache uses LRUType.LRU_HASHED by default. This has a very small but non-zero chance of producing incorrect results due to collisions in the longHashCode of FacetLabel. If such a collision occurs, then an affected document will get an incorrect facet. This has happened to us in production. While it is a rare occurrence, the consequences could be significant, and it was not immediately obvious what caused the problem. Therefore I think it is better if the default is changed to LRUType.LRU_STRING, which is guaranteed to be correct. I will add a patch containing this change as well as a test for the issue.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12875042/LUCENE-7891.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7959", "change_description": ": Improve NativeFSLockFactory's exception message if it cannot create\nwrite.lock for an empty index due to bad permissions/read-only filesystem/etc.", "change_title": "Throw more helpful error messages from failures in obtainFSLock, at least in NativeFSLockFactory", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "This is one of those small changes that would save a lot of pain for end users. Let's say that there's a permissions issue with the index dir. The user will get \"NoSuchFileException: write.lock\" but not understand why the lock file is missing (its because it could not be created). This is an unhelpful/misleading error message (recent user's list discussion about this). The problem is that when we try to create the lock file we swallow all exceptions, not just the one we don't care about (Thanks elyograg for pointing this out). {{       try catch (IOException ignore) }} It fails later with NoSuchFileException, which does not provide enough information.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12885701/LUCENE-7959.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7968", "change_description": ": AnalyzingSuggester would sometimes order suggestions incorrectly,\nit did not properly break ties on the surface forms when both the weights and\nthe analyzed forms were equal.", "change_title": "AnalyzingSuggester's comparator compares incorrectly", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "Found by LUCENE-7966, but we should fix here separate. Currently the tie-break case of this comparator is buggy when hasPayloads=false, as it assigns negative lengths to the BytesRefs being compared. The current BytesRef.compareTo simply silently returns false in this case, hiding the bug.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12886769/LUCENE-7968.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "LUCENE-7957", "change_description": ": ConjunctionScorer.getChildren was failing to return all\nchild scorers", "change_title": "ConjunctionScorer.getChildren does not return all children", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.0.1,8.0", "detail_description": "Today it returns all scoring children and misses the `FILTER` clauses; I think we just need to save the incoming `required` parameter to the ctor and iterate over those in `getChildren` since `scorers` is a subset of `required`?", "patch_link": "https://issues.apache.org/jira/secure/attachment/12885687/LUCENE-7957.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Bug Fixes", "change_id": "SOLR-11477", "change_description": ": Disallow resolving of external entities in queryparser/xml/CoreParser\nby default.", "change_title": "CVE-2017-12629: Disable external entities in XML query parser", "detail_type": "Task", "detail_affect_versions": "None", "detail_fix_versions": "5.5.5,6.6.2,7.1,7.2,8.0", "detail_description": "Lucene includes a query parser that is able to create the full-spectrum of Lucene queries, using an XML data structure. Starting from version 5.1 Solr supports \"xml\" query parser in the search query. The problem is that lucene xml parser does not explicitly prohibit doctype declaration and expansion of external entities. It is possible to include special entities in the xml document, that point to external files (via file://) or external urls (via http://): Example usage: When Solr is parsing this request, it makes a HTTP request to http://xxx.s.artsploit.com/xxx and treats its content as DOCTYPE definition. Considering that we can define parser type in the search query, which is very often comes from untrusted user input, e.g. search fields on websites. It allows to an external attacker to make arbitrary HTTP requests to the local SOLR instance and to bypass all firewall restrictions. For example, this vulnerability could be user to send malicious data to the '/upload' handler: This vulnerability can also be exploited as Blind XXE using ftp wrapper in order to read arbitrary local files from the solrserver.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12892047/SOLR-11477.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Build", "change_id": "SOLR-11181", "change_description": ": Switch order of maven artifact publishing procedure: deploy first\ninstead of locally installing first, to workaround a double repository push of\n*-sources.jar and *-javadoc.jar files.", "change_title": "Deploying Maven artifacts (generate-maven-artifacts) pushes the same artifacts multiple times", "detail_type": "Bug", "detail_affect_versions": "6.6,7.1,8.0", "detail_fix_versions": "7.1,8.0", "detail_description": "When following the instructions in the README.maven file, and watching the wire traffic, the build system issues HTTP PUT operations for the same artifacts multiple times.   For example, issuing this command: ant -Dm2.repository.id=my-repo-id \\           -Dm2.repository.url=http://example.org/my/repo \\           generate-maven-artifacts from the lucene/ directory will generate redundant puts.  For example: PUT /<path>/org/apache/lucene/lucene-core/<version>/lucene-core-4.10.4-fs.31-sources.jar  PUT /<path>/org/apache/lucene/lucene-core/<version>/lucene-core-4.10.4-fs.31-sources.jar.sha1  PUT /<path>/org/apache/lucene/lucene-core/<version>/lucene-core-4.10.4-fs.31-sources.jar.md5 ... PUT /<path>/org/apache/lucene/lucene-core/<version>/lucene-core-4.10.4-fs.31-sources.jar  ... The maven repo I am using does not allow the second PUT and, hence, the build fails.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12882953/SOLR-11181.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Build", "change_id": "LUCENE-6673", "change_description": ": Maven build fails for target javadoc:jar.", "change_title": "Maven build fails for target javadoc:jar", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "We currently disable missing checks for doclint, but the maven poms don't have it, as a result javadoc:jar fails. (thanks to dancollins for spotting this)", "patch_link": "https://issues.apache.org/jira/secure/attachment/12744703/LUCENE-6673.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Build", "change_id": "LUCENE-7985", "change_description": ": Upgrade forbiddenapis to 2.4.1.", "change_title": "Update forbiddenapis to 2.4.1", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "Forbidden APIs 2.4.1 was released a minute ago: It mainly adds full support for Java 9 by upgrading to ASM 6.0. It also adds Gradle 4 support (not relevant to Lucene/Solr). This will also update Groovy to latest 2.4.12 version (also for Java 9 support).", "patch_link": "https://issues.apache.org/jira/secure/attachment/12890264/LUCENE-7985.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-7948", "change_description": ",", "change_title": "Upgrade randomizedtesting to 2.5.3", "detail_type": "Task", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "none", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-7937", "change_description": ",", "change_title": "Improve tests to play nicely w/IntelliJ IDE", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "When running a single test in IntelliJ, something about the way the tests are run causes the UI to display all the tests in the class other than the one that was run as if they had been ignored. In contrast, running a single test in a typical test case class not derived from LuceneTestCase shows only the status of that test case method, not all the other methods in the class. This is somewhat irritating since it makes it hard to see what's going on with the test of interest. This is with IntelliJ 2017.1.4, junit 4.12", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-7933", "change_description": ": LongBitSet now validates the numBits parameter", "change_title": "LongBistSet can't have Long size", "detail_type": "Bug", "detail_affect_versions": "6.6", "detail_fix_versions": "7.1,8.0", "detail_description": "private final long[] bits; // Array of longs holding the bits  ===> bits.length is small for bit number having Long.MAX so you can not call \"LongBitSet.set(Long.MAX-1)\"", "patch_link": "https://issues.apache.org/jira/secure/attachment/12884710/LUCENE-7933.patch", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-7978", "change_description": ": Add some more documentation about setting up build\nenvironment.", "change_title": "Ant package fails on 7.0 and master", "detail_type": "Bug", "detail_affect_versions": "7.0,8.0", "detail_fix_versions": "7.1,8.0", "detail_description": "I'm doing the following steps following the README instructions: Gives is this: ivy-configure: [ivy:configure] :: loading settings :: file = /home/antonmry/Workspace/Apache/lucene-solr/lucene/top-level-ivy-settings.xml resolve: [ivy:retrieve]  [ivy:retrieve] :: problems summary :: [ivy:retrieve] :::: WARNINGS [ivy:retrieve]          :::::::::::::::::::::::::::::::::::::::::::::: [ivy:retrieve]          ::          UNRESOLVED DEPENDENCIES         :: [ivy:retrieve]          :::::::::::::::::::::::::::::::::::::::::::::: [ivy:retrieve]          :: org.apache.ivy#ivy;2.3.0: configuration not found in org.apache.ivy#ivy;2.3.0: 'master'. It was required from org.apache.lucene#tools;working@gali7 compile [ivy:retrieve]          :::::::::::::::::::::::::::::::::::::::::::::: [ivy:retrieve]  [ivy:retrieve] :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS BUILD FAILED /home/antonmry/Workspace/Apache/lucene-solr/build.xml:309: The following error occurred while executing this line: /home/antonmry/Workspace/Apache/lucene-solr/lucene/build.xml:127: The following error occurred while executing this line: /home/antonmry/Workspace/Apache/lucene-solr/lucene/common-build.xml:409: impossible to resolve dependencies:         resolve failed - see output for details Total time: 8 seconds I found it works with the the following changes in lucene/ivy-versions.properties: /org.apache.ivy/ivy = 2.3.0 to /org.apache.ivy/ivy = 2.4.0 Probably related to: https://issues.apache.org/jira/browse/LUCENE-6144", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-7983", "change_description": ": IndexWriter.IndexReaderWarmer is now a functional interface\ninstead of an abstract class with a single method", "change_title": "Make IndexReaderWarmer a functional interface", "detail_type": "Improvement", "detail_affect_versions": "None", "detail_fix_versions": "7.1", "detail_description": "IndexReaderWarmer has a single method but is an abstract class with a confusing protected constructor. Can we make it a proper functional interface instead? This is marked as lucene.experimental API and while it would be a binary incompatibility, everything remains the same at the source level, even for existing implementations.", "patch_link": "none", "patch_content": "none"}
{"library_version": "7.1.0", "change_type": "Other", "change_id": "LUCENE-5753", "change_description": ": Update TLDs recognized by UAX29URLEmailTokenizer.", "change_title": "Refresh UAX29URLEmailTokenizer's TLD list", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "7.1,8.0", "detail_description": "uax_url_email analyzer appears unable to recognize the \".local\" TLD among others. Bug can be reproduced by curl -XGET \"ADDRESS/INDEX/_analyze?text=First%20Last%20lname@section.mycorp.local&pretty&analyzer=uax_url_email\" will parse \"lname@section.my\" and \"corp.local\" as separate tokens, as opposed to curl -XGET \"ADDRESS/INDEX/_analyze?text=First%20Last%20lname@section.mycorp.org&pretty&analyzer=uax_url_email\" which will recognize \"lname@section.mycorp.org\". Can this be fixed by updating to a newer version? I am running ElasticSearch 0.90.5 and whatever Lucene version sits underneath that. My suspicion is that the TLD list the analyzer relies on (http://www.internic.net/zones/root.zone, I think?) is incomplete and needs updating.", "patch_link": "https://issues.apache.org/jira/secure/attachment/12890781/LUCENE-5753.patch", "patch_content": "none"}
