{"library_version": "8.11.3", "change_type": "Bug Fixes", "change_id": "LUCENE-9580", "change_description": ": Fix bug in the polygon tessellator when introducing collinear edges during polygon\nsplitting.", "change_title": "Tessellator failure for a certain polygon", "detail_type": "Bug", "detail_affect_versions": "8.5,8.6", "detail_fix_versions": "9.0", "detail_description": "This bug was discovered while using ElasticSearch (checked with versions 7.6.2 and 7.9.2). But I've created an isolated test case just for Lucene: https://github.com/apache/lucene-solr/pull/2006/files   The unit test fails with \"java.lang.IllegalArgumentException: Unable to Tessellate shape\".   The polygon contains two holes that share the same vertex and one more standalone hole. Removing any of them makes the unit test pass.    Changing the least significant digit in any coordinate of the \"common vertex\" in any of two first holes, so that these vertices become different in each hole - also makes unit test pass.", "patch_link": "none", "patch_content": "none"}
{"library_version": "8.11.3", "change_type": "Bug Fixes", "change_id": "LUCENE-10470", "change_description": ": Check if polygon has been successfully tessellated before we fail (we are failing some valid\ntessellations) and allow filtering edges that fold on top of the previous one.", "change_title": "Unable to Tessellate polygon", "detail_type": "Bug", "detail_affect_versions": "9.0", "detail_fix_versions": "9.2", "detail_description": "I have a polygon that causes Tessellator.tessellate to throw an \"Unable to Tessellate shape\" error. I tried several versions of Lucene, and the issue does not happen with Lucene 8.2.0, but seems to happen with all Lucene versions >=8.3.0, including the latest main branch. I created a branch that reproduces the issue: https://github.com/apache/lucene/compare/main...yixunx:yx/reproduce-tessellator-error?expand=1 This is the polygon rendered on geojson.io:  Is this a bug in the Tesselator logic, or is there anything wrong with this polygon that maybe wasn't caught by Lucene 8.2.0?", "patch_link": "none", "patch_content": "none"}
{"library_version": "8.11.3", "change_type": "Bug Fixes", "change_id": "LUCENE-10563", "change_description": ": Fix failure to tessellate complex polygon", "change_title": "Unable to Tessellate polygon", "detail_type": "Bug", "detail_affect_versions": "9.1", "detail_fix_versions": "9.3", "detail_description": "Following up to LUCENE-10470, I found some more polygons that cause Tessellator.tessellate to throw \"Unable to Tessellate shape\", which are not covered by the fix to LUCENE-10470. I attached the geojson of 3 failing shapes that I got, and this is the branch I am testing on that demonstrates the tessellation failures.  polygon-1.json polygon-2.json polygon-3.json", "patch_link": "none", "patch_content": "none"}
{"library_version": "8.11.3", "change_type": "Bug Fixes", "change_id": "LUCENE-10678", "change_description": ": Fix potential overflow when building a BKD tree with more than 4 billion points. The overflow\noccurs when computing the partition point.", "change_title": "computing the partition point on a BKD tree merge can overflow", "detail_type": "Bug", "detail_affect_versions": "None", "detail_fix_versions": "8.11.3,9.4,9.3.1", "detail_description": "I just discover a bad bug in the BKD tree when doing merges. Before calling the BKDTreeRadix selector we need to compute the partition point which is dome multiplying two integers. If the partition point is > Integer.MAX_VALUE then it will overflow. https://github.com/apache/lucene/blob/35ca2d79f73c6dfaf5e648fe241f7e0b37084a90/lucene/core/src/java/org/apache/lucene/util/bkd/BKDWriter.java#L2021 ", "patch_link": "none", "patch_content": "none"}
